<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Paratha Express | Cloud Kitchen</title>
<meta name="description" content="Order fresh parathas online. UPI & COD available. Fast 30-minute delivery.">

<style>
*{box-sizing:border-box;font-family:Arial}
body{margin:0;background:#fff4e6}
header{background:#c63d0f;color:#fff;padding:15px;text-align:center}
.container{max-width:900px;margin:auto;padding:15px}
.card{background:#fff;padding:15px;border-radius:10px;margin-bottom:15px;box-shadow:0 2px 6px rgba(0,0,0,.15)}
.food{display:flex;gap:10px;align-items:center;margin-bottom:10px}
.food img{width:90px;height:90px;border-radius:10px;object-fit:cover}
.qty{margin-left:auto}
.qty button{width:30px;height:30px;border:none;background:#c63d0f;color:#fff;border-radius:5px}
.cart-item{display:flex;justify-content:space-between}
.primary{width:100%;background:#c63d0f;color:#fff;border:none;padding:12px;border-radius:6px;font-size:16px}
.primary:disabled{background:#ccc}
.payment button{width:100%;margin:5px 0;padding:10px;border:1px solid #c63d0f;border-radius:6px;background:#fff}
.payment button.active{background:#c63d0f;color:#fff}
.timer{text-align:center;font-size:20px;color:#c63d0f;font-weight:bold}
.modal{position:fixed;inset:0;background:rgba(0,0,0,.5);display:none;align-items:center;justify-content:center}
.modal-content{background:#fff;padding:20px;border-radius:10px;width:90%;max-width:400px}
input,textarea{width:100%;padding:10px;margin-bottom:10px}
footer{text-align:center;padding:15px}
.admin{display:none}
@media(max-width:600px){.food{flex-direction:column;align-items:flex-start}}
</style>
</head>

<body>

<header>
<h1>Paratha Express</h1>
<p>ðŸ“ž <a href="tel:+917248700377" style="color:#fff">+91 7248700377</a></p>
</header>

<div class="container">

<!-- MENU -->
<div class="card">
<h2>Menu</h2>

<div class="food">
<img src="aloo.jpg" onerror="this.src='https://via.placeholder.com/90'">
<b>Aloo Pyaj Paratha â‚¹80</b>
<div class="qty">
<button onclick="add('Aloo Pyaj Paratha',80,-1)">âˆ’</button>
<button onclick="add('Aloo Pyaj Paratha',80,1)">+</button>
</div>
</div>

<div class="food">
<img src="paneer.jpg" onerror="this.src='https://via.placeholder.com/90'">
<b>Paneer Pyaj Paratha â‚¹100</b>
<div class="qty">
<button onclick="add('Paneer Pyaj Paratha',100,-1)">âˆ’</button>
<button onclick="add('Paneer Pyaj Paratha',100,1)">+</button>
</div>
</div>

<div class="food">
<img src="combo.jpg" onerror="this.src='https://via.placeholder.com/90'">
<b>Combo Pack â‚¹240</b>
<div class="qty">
<button onclick="add('Combo Pack',240,1)">+</button>
</div>
</div>
</div>

<!-- CART -->
<div class="card">
<h2>Cart</h2>
<div id="cart"></div>
<p>Subtotal â‚¹<span id="sub">0</span></p>
<p>Delivery â‚¹30</p>
<b>Total â‚¹<span id="total">0</span></b>
</div>

<!-- CHECKOUT -->
<div class="card">
<h2>Checkout</h2>
<input id="name" placeholder="Customer Name" required>
<textarea id="address" placeholder="Delivery Address" required></textarea>

<div class="payment">
<button onclick="selectPay('COD',this)">Cash on Delivery</button>
<button onclick="selectPay('PHONEPE',this)">PhonePe</button>
<button onclick="selectPay('GPAY',this)">Google Pay</button>
<button onclick="selectPay('PAYTM',this)">Paytm</button>
</div>

<button class="primary" id="orderBtn" onclick="openSummary()" disabled>Place Order</button>
</div>

<!-- CONFIRM -->
<div class="card" id="confirm" style="display:none">
<h2>Order Confirmed âœ…</h2>
<p>Order ID: <span id="oid"></span></p>
<p>Payment Mode: <span id="pmode"></span></p>
<p>Total Paid: â‚¹<span id="ototal"></span></p>
<div class="timer" id="timer"></div>
</div>

<!-- ADMIN -->
<div class="card admin" id="admin">
<h2>Admin Orders</h2>
<div id="adminOrders"></div>
</div>

</div>

<!-- MODAL -->
<div class="modal" id="modal">
<div class="modal-content">
<h3>Order Summary</h3>
<div id="summary"></div>
<button class="primary" onclick="placeOrder()">Confirm Order</button>
<button onclick="modal.style.display='none'">Cancel</button>
</div>
</div>

<footer>Â© Paratha Express Cloud Kitchen</footer>

<script>
let cart=JSON.parse(localStorage.getItem("cart")||"{}");
let payment="";
const DELIVERY=30;
const ADMIN_PIN="1985";

/* CART */
function add(n,p,q){
cart[n]=(cart[n]||0)+q;
if(cart[n]<=0)delete cart[n];
localStorage.setItem("cart",JSON.stringify(cart));
render();
}

function price(i){
if(i.includes("Paneer"))return 100;
if(i.includes("Combo"))return 240;
return 80;
}

function render(){
let c=document.getElementById("cart"),s=0;
c.innerHTML="";
Object.keys(cart).forEach(i=>{
let t=cart[i]*price(i);s+=t;
c.innerHTML+=`<div class="cart-item">${i} x ${cart[i]}<span>â‚¹${t}</span></div>`;
});
sub.innerText=s;
total.innerText=s>0?s+DELIVERY:0;
orderBtn.disabled=!payment||s===0;
}
render();

/* PAYMENT */
function selectPay(p,b){
payment=p;
document.querySelectorAll(".payment button").forEach(x=>x.classList.remove("active"));
b.classList.add("active");
render();
}

/* SUMMARY */
function openSummary(){
summary.innerHTML="";
Object.keys(cart).forEach(i=>summary.innerHTML+=`<p>${i} x ${cart[i]}</p>`);
summary.innerHTML+=`<b>Total â‚¹${total.innerText}</b><p>Payment: ${payment}</p>`;
modal.style.display="flex";
}

/* ORDER */
function placeOrder(){
modal.style.display="none";
let oidVal="PX"+Date.now();
let amt=total.innerText;

if(payment!=="COD"){
let upiMap={
PHONEPE:"7248700377@ybl",
GPAY:"physicsfables@okhdfcbank",
PAYTM:"7248700377@ptaxis"
};
location.href=`upi://pay?pa=${upiMap[payment]}&pn=Paratha%20Express&am=${amt}&cu=INR`;
}

let order={id:oidVal,name:name.value,addr:address.value,items:cart,total:amt,payment};
let orders=JSON.parse(localStorage.getItem("orders")||"[]");
orders.push(order);
localStorage.setItem("orders",JSON.stringify(orders));

window.open(`https://wa.me/917248700377?text=${encodeURIComponent(JSON.stringify(order,null,2))}`);

cart={};localStorage.removeItem("cart");render();
confirm.style.display="block";
oid.innerText=oidVal;pmode.innerText=payment;ototal.innerText=amt;
startTimer(1800);
}

/* TIMER */
function startTimer(s){
let t=document.getElementById("timer");
let i=setInterval(()=>{
t.innerText=`Order ready in ${Math.floor(s/60)}:${String(s%60).padStart(2,"0")}`;
if(--s<0)clearInterval(i);
},1000);
}

/* ADMIN */
if(location.hash==="#admin"){
let pin=prompt("Enter Admin PIN");
if(pin===ADMIN_PIN){
admin.style.display="block";
let o=JSON.parse(localStorage.getItem("orders")||"[]");
adminOrders.innerHTML=o.map(x=>`<p>${x.id} | â‚¹${x.total} | ${x.payment}</p>`).join("");
}
}
</script>

</body>
</html>
